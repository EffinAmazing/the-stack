{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/core/interceptors/no-cache-headers.interceptor.ts","webpack:///src/app/core/services/blueprints.service.ts","webpack:///src/app/modules/blueprint/blueprint-routing.module.ts","webpack:///src/app/modules/blueprint/blueprint.module.ts","webpack:///src/app/modules/blueprint/components/builder/builder.component.html","webpack:///src/app/modules/blueprint/components/builder/builder.component.ts","webpack:///src/app/modules/blueprint/components/tools-list/tools-list.component.ts","webpack:///src/app/modules/blueprint/components/tools-list/tools-list.component.html","webpack:///src/app/modules/blueprint/pages/build-stack/build-stack.component.ts","webpack:///src/app/modules/blueprint/pages/build-stack/build-stack.component.html","webpack:///src/app/modules/blueprint/pages/share/share.component.ts","webpack:///src/app/modules/blueprint/pages/share/share.component.html","webpack:///src/app/modules/home/home-routing.module.ts","webpack:///src/app/modules/home/home.module.ts","webpack:///src/app/modules/home/pages/home/home.component.ts","webpack:///src/app/modules/home/pages/home/home.component.html","webpack:///src/app/shared/mappers/response-mapper.helper.ts","webpack:///src/app/shared/modules/material/buttons-indicators/buttons-indicators.module.ts","webpack:///src/app/shared/modules/material/common-behaviors/common-behaviors.module.ts","webpack:///src/app/shared/modules/material/forms-controls/forms-controls.module.ts","webpack:///src/app/shared/modules/material/layout/layout.module.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","loadChildren","HomeModule","BlueprintModule","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","provide","useClass","multi","declarations","providers","bootstrap","NoCacheHeadersInterceptor","request","next","authReq","clone","setHeaders","handle","BlueprintsService","http","mapper","serverURI","domain","mapResponse","get","nodeID","data","put","ids","post","blueprintId","providedIn","component","BlueprintRoutingModule","forChild","schemas","$event","event","stopPropagation","containerOffset","dotRadius","lineGenerator","curve","host","BuilderComponent","positionNodeChanged","arrowAdded","arrowUpdated","hideNode","removeArrows","selectArrow","nodes","showNodes","listOfArrows","connectedLines","svgD3","offsetX","offsetY","maxItems","arrToChange","index","loadedNodes","subscribe","list","forEach","nodeId","item","push","hide","position","x","yIndex","Math","floor","xIndex","y","promises","map","props","emit","all","result","console","log","err","hiddenItem","arrowsToRemove","filter","lineId","indexOf","length","element","select","remove","loadedArrows","append","attr","genrateDots","start","end","lines","document","querySelectorAll","line","addEventListener","selectedArrow","find","arrow","setAttribute","link","node","source","_dragRef","_activeTransform","updatedLines","activeArrow","relesed","Arrow","pos","querySelector","evt","container","stackWorkFlow","nativeElement","rectContainer","getBoundingClientRect","X","Y","pointers","target","classList","contains","parentNode","rect","Xpos","Ypos","x1","y1","radAngle","atan2","PI","degAngle","part","diapason","elRef","arr","diffX","diffY","direction","handleMouseMove","handleClickOnWorkspace","ToolsListComponent","toogleVisibilityNode","closeTools","categoriesList","loadedCategories","categories","Object","iterator","lowerCase","toLocaleLowerCase","unshift","name","close","BuildStackComponent","service","route","router","nodesList","changedNodes$","changedArrows$","changedCategories$","nodesForUpdate","hideList","loaded","isError","errMessage","queryParams","params","getDomainTools","hidden","blueprint","tool","tools","atool","toolId","cat","proceedNodes","completedProceedNodes","force","search","verifyOrderRoHide","toLowerCase","handleRemoveArrows","updateNodeTool","res","hideNodes","getArrowsList","getArrows","toPromise","error","navigateByUrl","addArrow","updateArrow","handleHideList","ShareComponent","HomeRoutingModule","HomeComponent","pattern","invalid","value","submitDomain","ResponseMappers","observable","pipe","response","filters","keyName","join","ButtonsIndicatorsModule","CommonBehaviorsModule","FormsControlsModule","LayoutModule","SharedModule","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeModule } from './modules/home/home.module';\r\n\r\n\r\nconst routes: Routes = [\r\n  { \r\n    path: \"home\", \r\n    loadChildren: async () => { \r\n      const { HomeModule } =  await import('./modules/home/home.module');\r\n      return HomeModule;\r\n    },\r\n  },\r\n  {\r\n    path: \"blueprints\",\r\n    loadChildren: async () => {\r\n      const { BlueprintModule } = await import('./modules/blueprint/blueprint.module');\r\n      return BlueprintModule;\r\n    }\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: 'home',\r\n    pathMatch: 'full'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'March Blueprint';\r\n}\r\n","\r\n<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HTTP_INTERCEPTORS } from \"@angular/common/http\";\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { BlueprintModule } from './modules/blueprint/blueprint.module';\r\nimport { HomeModule } from './modules/home/home.module';\r\nimport { NoCacheHeadersInterceptor } from \"./core/interceptors/no-cache-headers.interceptor\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    BlueprintModule,\r\n    HomeModule\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: NoCacheHeadersInterceptor,\r\n      multi: true\r\n    }\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class NoCacheHeadersInterceptor implements HttpInterceptor {\r\n\r\n  constructor() {}\r\n\r\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\r\n    const authReq = request.clone({\r\n        setHeaders: {\r\n            'Cache-Control': 'no-cache'\r\n        }\r\n    });\r\n    return next.handle(authReq);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpResponse } from '@angular/common/http';\r\nimport { Observable, of } from 'rxjs';\r\nimport { BluePrintResp, BluePrintTool } from \"../../shared/models/tool\";\r\nimport { ResponseMappers } from '../../shared/mappers/response-mapper.helper';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BlueprintsService {\r\n  serverURI = 'http://198.211.96.29:9000/';\r\n\r\n  constructor( private http: HttpClient, private mapper: ResponseMappers ) { }\r\n\r\n  getDomainTools(domain: string): Observable<BluePrintResp> {\r\n    return this.mapper.mapResponse(this.http.get<BluePrintResp>(`${this.serverURI}blueprints/tools?domain=${domain}`));\r\n  }\r\n\r\n  updateNodeTool(nodeID: string, data ): Observable<BluePrintTool>{\r\n    return this.mapper.mapResponse(this.http.put<BluePrintTool>(`${this.serverURI}toolsnodes/${nodeID}`, { data }));\r\n  }\r\n\r\n  hideNodes(ids: string[]): Observable<any> {\r\n    return this.mapper.mapResponse(this.http.post(`${this.serverURI}toolshide/`, { ids } ));\r\n  }\r\n\r\n  addArrow(blueprintId, data): Observable<any> {\r\n    return this.mapper.mapResponse(this.http.post(`${this.serverURI}arrows/`, { data, blueprintId }));\r\n  }\r\n\r\n  updateArrow( data) {\r\n    return this.mapper.mapResponse(this.http.put(`${this.serverURI}arrows/${data.id}`, { data }));\r\n  }\r\n\r\n  getArrows(blueprintId): Observable<any> {\r\n    return this.mapper.mapResponse(this.http.get(`${this.serverURI}arrows/?blueprint=${blueprintId}`));\r\n  }\r\n\r\n  removeArrows(ids): Observable<any> {\r\n    return this.mapper.mapResponse(this.http.post(`${this.serverURI}arrows/remove`, {ids}));\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { BuildStackComponent } from \"./pages/build-stack/build-stack.component\";\r\nimport { ShareComponent } from \"./pages/share/share.component\";\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"build\",\r\n    component: BuildStackComponent\r\n  },\r\n  {\r\n    path: \"share\",\r\n    component: ShareComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class BlueprintRoutingModule { }\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http'; \r\n\r\nimport { BlueprintRoutingModule } from './blueprint-routing.module';\r\nimport { BuildStackComponent } from './pages/build-stack/build-stack.component';\r\nimport { ShareComponent } from './pages/share/share.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { CommonBehaviorsModule } from '../../shared/modules/material/common-behaviors/common-behaviors.module';\r\nimport { ButtonsIndicatorsModule } from '../../shared/modules/material/buttons-indicators/buttons-indicators.module';\r\nimport { FormsControlsModule } from '../../shared/modules/material/forms-controls/forms-controls.module';\r\nimport { LayoutModule } from '../../shared/modules/material/layout/layout.module';\nimport { BuilderComponent } from './components/builder/builder.component';\nimport { ToolsListComponent } from './components/tools-list/tools-list.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [BuildStackComponent, ShareComponent, BuilderComponent, ToolsListComponent],\r\n  imports: [\r\n    CommonModule,\r\n    BlueprintRoutingModule,\r\n    HttpClientModule,\r\n    SharedModule,\r\n    CommonBehaviorsModule,\r\n    ButtonsIndicatorsModule,\r\n    FormsControlsModule,\r\n    LayoutModule\r\n  ],\r\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\r\n\r\n})\r\nexport class BlueprintModule { }\r\n","<div>\n    <div class=\"stackWorkflow\" #stackWorkFlow (mousemove)=\"handleMouseMove($event)\" (click)=\"handleClickOnWorkspace()\">\n        <svg id=\"paint\"  width=\"1080\" height=\"600\">\n          <defs>\n            <marker \n              id=\"arrow-marker\" \n              markerWidth=\"8\" \n              markerHeight=\"12\" \n              refX=\"4\" \n              refY=\"6\" \n              orient=\"auto-start-reverse\" \n              markerUnits=\"userSpaceOnUse\">\n                <path d=\"M2,0 L8,6 L2,12 L0,10 L4,6 L0,2 z\" style=\"stroke-width: 1;z-index: 5;\"></path>\n              </marker>\n            </defs>\n        </svg>\n        <div class=\"toolNode\" *ngFor=\"let node of showNodes\" \n          cdkDrag \n          [cdkDragFreeDragPosition]=\"hasCoords(node.position)?node.position:{x: 0, y: 0}\" \n          (cdkDragReleased)=\"relisedMove($event, node)\"\n          (cdkDragMoved)=\"$event.event.stopPropagation();  handleNodeMove($event, node)\"\n          (cdkDragStarted)=\"handleStartDrag(node)\"\n          (mouseenter)=\"handleMouseOverNode($event, node)\"\n          (mouseleave)=\"handleMouseOutNode($event, node)\" >\n            <img class=\"node-icon\"  [src]=\"node.tool.logo?processImageSrc(node.tool.logo):'/assets/images/layers.png'\" />\n            {{ node.tool?.name }}\n            <div class=\"pointers\">\n              <div class=\"pointer-Left\" (click)=\"handleAddArrowClick($event, 'Left', node)\"></div>\n              <div class=\"pointer-Right\" (click)=\"handleAddArrowClick($event, 'Right', node)\"></div>\n              <div class=\"pointer-LeftTop\" (click)=\"handleAddArrowClick($event, 'LeftTop', node)\"></div>\n              <div class=\"pointer-RightTop\" (click)=\"handleAddArrowClick($event, 'RightTop', node)\"></div>\n              <div class=\"pointer-MiddleTop\" (click)=\"handleAddArrowClick($event, 'MiddleTop', node)\"></div>\n              <div class=\"pointer-LeftBottom\" (click)=\"handleAddArrowClick($event, 'LeftBottom', node)\"></div>\n              <div class=\"pointer-RightBottom\" (click)=\"handleAddArrowClick($event, 'RightBottom', node)\"></div>\n              <div class=\"pointer-MiddleBottom\" (click)=\"handleAddArrowClick($event, 'MiddleBottom', node)\"></div>\n            </div>\n            <div class=\"hide-item-from-stack\" (click)=\"hideNodeFormStack(node)\"> <mat-icon>clear</mat-icon> </div>\n    </div>\n</div>\n","import { Component, OnInit, ViewChild, ElementRef, Input, Output, EventEmitter } from '@angular/core';\nimport { Tool, BluePrintTool } from '../../../../shared/models/tool';\nimport { Observable } from 'rxjs';\nimport * as d3 from 'd3';\n\nconst containerOffset = 20;\nconst dotRadius = 9;\nconst lineGenerator = d3.line().curve(d3.curveCardinal);\nconst host = 'http://198.211.96.29:9000';\n\n@Component({\n  selector: 'app-builder',\n  templateUrl: './builder.component.html',\n  styleUrls: ['./builder.component.scss']\n})\nexport class BuilderComponent implements OnInit {\n  @ViewChild('stackWorkFlow') stackWorkFlow: ElementRef;\n  @Output() positionNodeChanged: EventEmitter<any> = new EventEmitter();\n  @Output() arrowAdded: EventEmitter<any> = new EventEmitter();\n  @Output() arrowUpdated: EventEmitter<any> = new EventEmitter();\n  @Output() hideNode: EventEmitter<any> = new EventEmitter();\n  @Output() removeArrows: EventEmitter<any> = new EventEmitter();\n  @Output() selectArrow: EventEmitter<any> = new EventEmitter();\n  @Input() loadedNodes: Observable<any>;\n  @Input() loadedArrows: Observable<any>;\n  selectedArrow: any;\n  nodes: BluePrintTool[] = [];\n  // nodes: BluePrintTool[] = [];\n  showNodes: BluePrintTool[] = [];\n  listOfArrows: Array<{\n    start: { nodeId: string, x: number, y: number, pos?: string },\n    end: { nodeId: string, x: number, y: number, pos?: string },\n    lineId: string\n  }> = [];\n  connectedLines: Array<any> = [];\n  activeArrow: {\n    start: { nodeId: string, x: number, y: number, elRef?: any, pos?: string  },\n    end: { x: number, y: number, nodeId?: string, elRef?: any, pos?: string  },\n    lineId: string,\n    relesed: boolean\n  };\n  svgD3: any;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.svgD3 = d3.select('svg#paint');\n\n    const offsetX = 200;\n    const offsetY = 60;\n    const maxItems = 5;\n    const arrToChange = [];\n\n    let index = 0;\n    this.loadedNodes.subscribe((data) => {\n      this.nodes = [];\n      this.showNodes = [];\n      // console.log(data);\n      if (data.list) {\n        data.list.forEach((nodeId) => {\n          const item = data.nodes[nodeId];\n          this.nodes.push(item);\n          if (!item.hide) {\n            if (typeof item.position.x !== 'number') {\n              const yIndex = Math.floor(index / maxItems);\n              const xIndex = (index - yIndex * maxItems);\n              item.position.y = yIndex * offsetY;\n              item.position.x = xIndex * offsetX;\n              arrToChange.push({nodeId: item.id, position: item.position});\n              index++;\n            }\n            this.showNodes.push(item);\n          }\n        });\n\n        const promises = arrToChange.map(async (props) => {\n          this.positionNodeChanged.emit(props);\n          return props;\n        });\n\n        Promise.all(promises).then((result) => {\n          console.log(result);\n        }).catch((err) => {\n          console.log(err);\n        });\n      }\n\n      if (data.hiddenItem) {\n        console.log(\"data.hiddenItem\", data.hiddenItem);\n        const arrowsToRemove = this.listOfArrows.filter((item) => item.lineId.indexOf(data.hiddenItem) !== -1 );\n        const ids = [];\n        console.log(arrowsToRemove);\n        if (arrowsToRemove.length) {\n          arrowsToRemove.forEach(element => {\n            ids.push(element.lineId);\n            console.log(element.lineId);\n            this.svgD3.select('path#' + element.lineId).remove();\n          });\n\n          this.removeArrows.emit(ids);\n        }\n      }\n    });\n\n    this.loadedArrows.subscribe((list) => {\n      list.forEach((item) => {\n        this.listOfArrows.push(item);\n        this.svgD3.append('path')\n        .attr('id', item.lineId)\n        .attr('class', 'line')\n        .attr('d', lineGenerator(this.genrateDots(\n          [item.start.x, item.start.y],\n          [item.end.x, item.end.y])))\n        .attr('stroke', '#1c57a4')\n        .attr('stroke-width', 2)\n        .attr('fill', 'transparent')\n        .attr('marker-end', 'url(#arrow-marker)');\n\n        const lines = document.querySelectorAll('path.line');\n        lines.forEach((line) => {\n          line.addEventListener('click', () => {\n            if (this.selectedArrow) {\n              this.svgD3.select('path#' + this.selectedArrow.lineId).attr('stroke-width', 2);\n            }\n\n            this.selectedArrow = this.listOfArrows.find((arrow) => arrow.lineId === line.id );\n            this.selectArrow.emit(this.selectedArrow);\n            line.setAttribute('stroke-width', '4');\n          });\n        });\n\n      });\n    });\n  }\n\n  public processImageSrc(link) {\n    if (link.indexOf('http://') !== -1 || link.indexOf('https://') !== -1 ) {\n      return link;\n    } else {\n      return host + link;\n    }\n  }\n\n  public relisedMove(data, node: BluePrintTool) {\n    console.log(data.source._dragRef._activeTransform);\n\n    /*  */\n\n    this.positionNodeChanged.emit({ nodeId: node.id, position: data.source._dragRef._activeTransform  });\n\n    const updatedLines = this.connectedLines.map(async (item) => {\n      return this.arrowUpdated.emit(item);\n    });\n\n    Promise.all(updatedLines).then(() => { console.log('completed update'); }).catch(err => console.log(err));\n\n    this.connectedLines = [];\n\n  }\n\n  public hasCoords(position) {\n    if (typeof position.x === 'number' && typeof position.y) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  public handleClickOnWorkspace() {\n    if (this.activeArrow) {\n      if (!this.activeArrow.relesed) {\n        if (this.activeArrow.end.nodeId) {\n          const Arrow = {\n            start: {\n              x: this.activeArrow.start.x,\n              y: this.activeArrow.start.y,\n              nodeId: this.activeArrow.start.nodeId,\n              pos: this.activeArrow.start.pos },\n            end: {\n              x: this.activeArrow.end.x,\n              y: this.activeArrow.end.y,\n              nodeId: this.activeArrow.end.nodeId,\n              pos: this.activeArrow.end.pos\n            },\n            lineId: this.activeArrow.lineId + '-' + this.activeArrow.end.nodeId\n          };\n\n          this.listOfArrows.push(Arrow);\n          this.arrowAdded.emit(Arrow);\n\n          this.svgD3.select('path#' + this.activeArrow.lineId).attr('id', this.activeArrow.lineId + '-' + this.activeArrow.end.nodeId );\n\n          const line = document.querySelector(`path#${this.activeArrow.lineId + '-' + this.activeArrow.end.nodeId}`);\n          line.addEventListener('click', () => {\n            if (this.selectedArrow) {\n              this.svgD3.select('path#' + this.selectedArrow.lineId).attr('stroke-width', 2);\n            }\n\n            this.selectedArrow = this.listOfArrows.find((arrow) => arrow.lineId === line.id );\n            this.selectArrow.emit(this.selectedArrow);\n            line.setAttribute('stroke-width', '4');\n          });\n\n          this.activeArrow = null;\n        } else {\n          this.svgD3.select('path#' + this.activeArrow.lineId).remove();\n          this.activeArrow = null;\n        }\n      } else {\n        this.activeArrow.relesed = false;\n      }\n    }\n  }\n\n  public handleStartDrag(node) {\n    const lines = this.listOfArrows.filter((item) => item.start.nodeId === node.id || item.end.nodeId === node.id );\n    this.connectedLines = lines;\n  }\n\n  public handleNodeMove(evt, node) {\n    if (this.connectedLines.length) {\n      const container = this.stackWorkFlow.nativeElement;\n\n      const rectContainer = container.getBoundingClientRect();\n\n      const X = rectContainer.x;\n      const Y = rectContainer.y;\n      let pointers = evt.event.target;\n      if (!pointers.classList.contains('pointers')) {\n        pointers = evt.event.target.parentNode;\n      }\n      // console.log(this.connectedLines);\n      this.connectedLines.forEach((item) => {\n        let offsetX = dotRadius;\n        if (item.start.nodeId ===  node.id) {\n          const rect = pointers.querySelector('.pointer-' + item.start.pos).getBoundingClientRect();\n          const pos = {\n            y: rect.y - Y - containerOffset + dotRadius,\n            x: rect.x - X - containerOffset + dotRadius\n          };\n\n          item.start.x = pos.x;\n          item.start.y = pos.y;\n\n          this.svgD3.select('path#' + item.lineId)\n            .attr('d', lineGenerator(this.genrateDots(\n              [item.start.x, item.start.y],\n              [item.end.x, item.end.y])));\n        }\n\n        if (item.end.nodeId ===  node.id) {\n          const rect = pointers.querySelector('.pointer-' + item.end.pos).getBoundingClientRect();\n\n          if (item.end.pos === 'Left') { offsetX = dotRadius / 2; }\n          if (item.end.pos === 'Right') { offsetX = dotRadius * 2; }\n          const pos = {\n            y: rect.y - Y - containerOffset + dotRadius,\n            x: rect.x - X - containerOffset + offsetX\n          };\n\n          item.end.x = pos.x;\n          item.end.y = pos.y;\n\n          this.svgD3.select('path#' + item.lineId)\n            .attr('d', lineGenerator(this.genrateDots(\n              [item.start.x, item.start.y],\n              [item.end.x, item.end.y], item.end.pos !== 'Left' && item.end.pos !== 'Right' ? 'Top' : '')));\n        }\n      });\n    }\n  }\n\n  public handleMouseOverNode(evt, node) {\n    if (this.activeArrow) {\n      console.log('over', evt, node);\n      const container = this.stackWorkFlow.nativeElement;\n      const rectContainer = container.getBoundingClientRect();\n\n      const X = rectContainer.x;\n      const Y = rectContainer.y;\n      let Xpos = 'Left';\n      let Ypos = '';\n      const x1 = evt.x - X - 15;\n      const y1 = evt.y - Y - 15;\n      const radAngle = Math.atan2(x1 - this.activeArrow.start.x, y1 - this.activeArrow.start.y);\n      console.log(x1, y1, radAngle, radAngle * 180 / Math.PI + 180);\n      const degAngle = radAngle * 180 / Math.PI + 180;\n      const part = 8;\n      const diapason = 360 / part / 2;\n      if (degAngle < diapason || degAngle > 360 - diapason || degAngle > 180 - diapason && degAngle < 180 + diapason ) { Xpos = 'Middle'; }\n      if (degAngle >= diapason && degAngle <= 180 - diapason) { Xpos = 'Right'; }\n      if (degAngle >= 180 + diapason && degAngle <= 360 - diapason) { Xpos = 'Left'; }\n      if (degAngle < 90 - diapason || degAngle > 270 + diapason ) { Ypos = 'Bottom'; }\n      if (degAngle > 90 + diapason && degAngle < 270 - diapason) { Ypos = 'Top'; }\n      console.log(Xpos, Ypos, degAngle);\n      /* */\n\n      const rect = evt.target.querySelector('.pointers .pointer-' + Xpos + Ypos).getBoundingClientRect();\n      this.activeArrow.end.nodeId = node.id;\n      this.activeArrow.end.elRef = evt.target;\n      this.activeArrow.end.pos = Xpos + Ypos;\n      let offsetX = dotRadius;\n      if ( Xpos + Ypos === 'Right') { offsetX = dotRadius * 2; }\n      if ( Xpos + Ypos === 'Left') { offsetX = dotRadius / 2; }\n      const pos = {\n        y: rect.y - Y - containerOffset + dotRadius,\n        x: rect.x - X - containerOffset + offsetX\n      };\n\n      this.activeArrow.end.x = pos.x;\n      this.activeArrow.end.y = pos.y;\n\n      this.svgD3.select('path#' + this.activeArrow.lineId)\n        .attr('d', lineGenerator(this.genrateDots(\n          [this.activeArrow.start.x, this.activeArrow.start.y],\n          [this.activeArrow.end.x, this.activeArrow.end.y], Ypos)));\n\n    }\n  }\n\n  private genrateDots(start, end, Ypos?) {\n    const arr = [start];\n    const diffX = end[0] - start[0];\n    const diffY = end[1] - start[1];\n    console.log(diffX, diffY);\n\n    arr.push([ start[0] + diffX * 0.35, start[1] + diffY * 0.15]);\n    if (typeof Ypos === 'string' && Ypos !== '') {\n      console.log(Ypos);\n      arr.push([ start[0] + diffX * 0.90, start[1] + diffY * 0.65]);\n    } else {\n      arr.push([ start[0] + diffX * 0.70, start[1] + diffY * 0.85]);\n    }\n\n    console.log(arr);\n    arr.push(end);\n    return arr;\n  }\n\n  public handleMouseOutNode(evt, node) {\n    // console.log('out', evt, node);\n    if (this.activeArrow) {\n      this.activeArrow.end.nodeId = null;\n      this.activeArrow.end.elRef = null;\n    }\n  }\n\n  public handleAddArrowClick(evt, direction, node?) {\n    if (!this.activeArrow) {\n      const target = evt.target;\n      const container = this.stackWorkFlow.nativeElement;\n      const rect = target.getBoundingClientRect();\n      const rectContainer = container.getBoundingClientRect();\n\n      const X = rectContainer.x;\n      const Y = rectContainer.y;\n      console.log(container);\n\n      const pos = {\n        y: rect.y - Y - containerOffset + dotRadius,\n        x: rect.x - X - containerOffset + dotRadius\n      };\n\n      console.log(pos, direction);\n      this.activeArrow = {\n        start: { nodeId: node.id, x: pos.x, y: pos.y, pos: direction },\n        end: { x: pos.x, y: pos.y },\n        lineId: 'line-' + node.id,\n        relesed: true\n      };\n\n      this.svgD3.append('path')\n        .attr('id', 'line-' + node.id)\n        .attr('class', 'line')\n        .attr('d', lineGenerator([ [pos.x, pos.y], [pos.x + 20, pos.y + 20] ]))\n        .attr('stroke', '#1c57a4')\n        .attr('stroke-width', 2)\n        .attr('fill', 'transparent')\n        .attr('marker-end', 'url(#arrow-marker)');\n    }\n  }\n\n  public handleMouseMove(evt) {\n    // console.log(this.activeArrow);\n    if (this.activeArrow) {\n      if (!this.activeArrow.end.nodeId) {\n        const container = this.stackWorkFlow.nativeElement;\n        const rectContainer = container.getBoundingClientRect();\n\n        const X = rectContainer.x;\n        const Y = rectContainer.y;\n\n        const pos = { y: evt.y - Y - containerOffset, x: evt.x - X - containerOffset };\n\n        this.activeArrow.end.x = pos.x;\n        this.activeArrow.end.y = pos.y;\n        // console.log(lineGenerator([ [this.activeArrow.start.x, this.activeArrow.start.y], [pos.x, pos.y] ]));\n\n        this.svgD3.select('path#' + this.activeArrow.lineId)\n          .attr('d', lineGenerator([ [this.activeArrow.start.x, this.activeArrow.start.y], [pos.x, pos.y] ]));\n      }\n    }\n  }\n\n  public hideNodeFormStack(node) {\n    console.log(\"hideNodeFormStack\", node);\n    this.hideNode.emit(node);\n  }\n\n}\n","import { Component, OnInit, ViewChild, ElementRef, Input, Output, EventEmitter } from '@angular/core';\nimport { Tool, BluePrintTool } from '../../../../shared/models/tool';\nimport { Observable } from 'rxjs';\n\nconst host = 'http://198.211.96.29:9000';\n\n@Component({\n  selector: 'app-tools-list',\n  templateUrl: './tools-list.component.html',\n  styleUrls: ['./tools-list.component.scss']\n})\nexport class ToolsListComponent implements OnInit {\n  @Input() loadedNodes: Observable<any>;\n  @Input() loadedCategories: Observable<any>;\n  @Output() toogleVisibilityNode: EventEmitter<any> = new EventEmitter();\n  @Output() closeTools: EventEmitter<any> = new EventEmitter();\n  categories: any;\n  categoriesList: Array<any> = [];\n  nodes: any = {};\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.loadedNodes.subscribe((data) => {\n      this.nodes = data.nodes;\n    });\n\n    this.loadedCategories.subscribe((data) => {\n      const categories = Object.keys(data);\n\n      for (const iterator of categories) {\n        // console.log(data[iterator]);\n        const lowerCase = iterator.toLocaleLowerCase();\n        if ( lowerCase.indexOf('analytic') !== -1 ||  lowerCase.indexOf('tracking') || lowerCase.indexOf('marketing')) {\n          this.categoriesList.unshift({\n            name: iterator,\n            nodes: data[iterator]\n          });\n        } else {\n          this.categoriesList.push({\n            name: iterator,\n            nodes: data[iterator]\n          });\n        }\n      }\n    });\n\n  }\n\n  public toggleNodeFormStack(node) {\n    this.toogleVisibilityNode.emit(node);\n  }\n\n  public close() {\n    this.closeTools.emit(true);\n  }\n\n  public processImageSrc(link) {\n    if (link.indexOf('http://') !== -1 || link.indexOf('https://') !== -1 ) {\n      return link;\n    } else {\n      return host + link;\n    }\n  }\n\n}\n","<div class=\"tools-list-categoreies\">\n    <h2> Tools </h2>\n    <div class=\"close\" (click)=\"close()\"> <mat-icon color=\"primary\">clear</mat-icon> </div>\n    <div class=\"categories-list\">\n        <mat-accordion [multi]=\"true\">\n            <mat-expansion-panel *ngFor=\"let item of categoriesList\" [expanded]=\"true\">\n                <mat-expansion-panel-header>\n                    <mat-panel-title> {{item.name}} </mat-panel-title>\n                </mat-expansion-panel-header>\n                <div class=\"nodes-holder\">\n                    <div class=\"node-items\" *ngFor=\"let nodeId of item.nodes\"> \n                        <img class=\"node-icon\"  [src]=\"nodes[nodeId].tool.logo?processImageSrc(nodes[nodeId].tool.logo):'/assets/images/layers.png'\" />\n                        {{ nodes[nodeId].tool.name }} \n                        <div class=\"actions\" (click)=\"toggleNodeFormStack(nodes[nodeId])\"> <mat-icon class=\"visible\" *ngIf=\"!nodes[nodeId].hide\" >visibility</mat-icon>  <mat-icon class=\"hidden\" *ngIf=\"nodes[nodeId].hide\">visibility_off</mat-icon> </div>\n                    </div>\n                </div>\n            </mat-expansion-panel>\n        </mat-accordion>\n    </div>\n</div>\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { BlueprintsService } from '../../../../core/services/blueprints.service';\r\nimport { Tool, BluePrintTool, BluePrint } from '../../../../shared/models/tool';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport * as d3 from 'd3';\r\n\r\n@Component({\r\n  selector: 'app-build-stack',\r\n  templateUrl: './build-stack.component.html',\r\n  styleUrls: ['./build-stack.component.scss']\r\n})\r\nexport class BuildStackComponent implements OnInit {\r\n  @ViewChild('stackWorkFlow') stackWorkFlow: ElementRef;\r\n  blueprint: BluePrint;\r\n  nodes: BluePrintTool[] = [];\r\n  nodesList: string[] = [];\r\n  showNodes: BluePrintTool[] = [];\r\n  categories: any = { \"None\": [] };\r\n  changedNodes$: BehaviorSubject<any> = new BehaviorSubject({});\r\n  changedArrows$: BehaviorSubject<any> = new BehaviorSubject([]);\r\n  changedCategories$: BehaviorSubject<any> = new BehaviorSubject({});\r\n  nodesForUpdate: any = [];\r\n  selectedArrow: any;\r\n  hideList = true;\r\n  loaded = false;\r\n  domain = '';\r\n  isError = false;\r\n  errMessage = 'Something went wrong plaese check domain and try again';\r\n\r\n  constructor(private service: BlueprintsService, private route: ActivatedRoute, private router: Router) {\r\n    this.route.queryParams.subscribe((params: any) => {\r\n      this.domain = params.domain;\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.domain) {\r\n      this.service.getDomainTools(this.domain).subscribe((data) => {\r\n        if (typeof data === 'string') {\r\n          return this.isError = true;\r\n        }\r\n        console.log(data);\r\n        let hidden = 0;\r\n        this.blueprint = data.blueprint;\r\n        data.nodes.forEach((item) => {\r\n          const tool = data.tools.find((atool) =>  atool.id === item.toolId );\r\n          item.tool = tool;\r\n          this.nodes[item.id] = item;\r\n          this.nodesList.push(item.id);\r\n          if (item.hide ) { hidden++; }\r\n          if (item.tool.categories) {\r\n            item.tool.categories.forEach((cat) => {\r\n              if (this.categories[cat]) {\r\n                this.categories[cat].push(item.id);\r\n              } else {\r\n                this.categories[cat] = [ item.id ];\r\n              }\r\n            });\r\n          } else {\r\n            this.categories['None'].push(item.id);\r\n          }\r\n          /*if (!item.hide) {\r\n            this.showNodes.push(item);\r\n          }*/\r\n        });\r\n\r\n        if (data.nodes.length - hidden > 50) {\r\n          this.proceedNodes(data.nodes.length, hidden);\r\n        } else {\r\n          this.completedProceedNodes();\r\n        }\r\n        // console.log(this.nodes, this.nodes.length);\r\n      }, err => this.isError = true );\r\n\r\n    } else {\r\n      this.isError = true;\r\n    }\r\n  }\r\n\r\n  private proceedNodes(all, hidden, force?) {\r\n    if (force) {\r\n      this.nodesList.forEach((nodeId) => {\r\n        const item = this.nodes[nodeId];\r\n        if (!item.hide && all - hidden > 50 ) {\r\n\r\n          if (item.tool.categories[0].search('Analytics') === -1 && item.tool.name !== this.domain) {\r\n            item.hide = true;\r\n            hidden++;\r\n            this.nodesForUpdate.push(item.id);\r\n          }\r\n        }\r\n      });\r\n\r\n      this.completedProceedNodes();\r\n    } else {\r\n      this.nodesList.forEach((nodeId) => {\r\n        const item = this.nodes[nodeId];\r\n        if (!item.hide && this.verifyOrderRoHide(item.tool.categories)) {\r\n          item.hide = true;\r\n          this.nodesForUpdate.push(item.id);\r\n          hidden++;\r\n        }\r\n      });\r\n\r\n      if (all - hidden <= 50) {\r\n        this.completedProceedNodes();\r\n      } else {\r\n        console.log(\"force\");\r\n        this.proceedNodes(all, hidden, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  private verifyOrderRoHide(categories) {\r\n    if (!categories) {\r\n      return true;\r\n    } else {\r\n      let hide = false;\r\n      categories.forEach((cat) => {\r\n        if (\r\n          cat.toLowerCase().indexOf('framework') !== -1 ||\r\n          cat.toLowerCase().indexOf('hosting') !== -1 ||\r\n          cat.toLowerCase().indexOf('hosting') !== -1 ||\r\n          cat.toLowerCase().indexOf('player') !== -1 ||\r\n          cat.toLowerCase().indexOf('wordpress') !== -1 ||\r\n          cat.toLowerCase().indexOf('programming') !== -1 ||\r\n          cat.toLowerCase().indexOf('javascript') !== -1 ||\r\n          cat.toLowerCase().indexOf('slider') !== -1) {\r\n          hide = true;\r\n        }\r\n      });\r\n\r\n      return hide;\r\n    }\r\n  }\r\n\r\n  public handleSlectArrow(data) {\r\n    this.selectedArrow = data;\r\n  }\r\n\r\n  public handleRemoveArrow() {\r\n    this.handleRemoveArrows([this.selectedArrow.lineId]);\r\n    document.querySelector(`path#${this.selectedArrow.lineId}`).remove();\r\n    this.selectedArrow = null;\r\n  }\r\n\r\n  public updatedNodePosiotion(data) {\r\n    //console.log('aaa', data);\r\n    this.service.updateNodeTool(data.nodeId, { position: data.position }).subscribe((res) => {\r\n      const tool = this.nodes[data.nodeId].tool;\r\n      res.tool = this.nodes[data.nodeId].tool;\r\n      this.nodes[data.nodeId] = res;\r\n    });\r\n  }\r\n\r\n  public handleCloseTools() {\r\n    this.hideList = true;\r\n  }\r\n\r\n  private completedProceedNodes() {\r\n    console.log(this.nodesForUpdate);\r\n    this.loaded = true;\r\n    if (this.nodesForUpdate.length) {\r\n      this.service.hideNodes(this.nodesForUpdate).subscribe((data) => {\r\n        this.changedNodes$.next({ nodes: this.nodes, list: this.nodesList });\r\n        this.changedCategories$.next( this.categories );\r\n        this.getArrowsList();\r\n      });\r\n    } else {\r\n      this.changedNodes$.next({ nodes: this.nodes, list: this.nodesList });\r\n      this.changedCategories$.next( this.categories );\r\n      this.getArrowsList();\r\n    }\r\n  }\r\n\r\n  private getArrowsList() {\r\n\r\n    if (this.blueprint.id) {\r\n      this.service.getArrows(this.blueprint.id).toPromise().then((data) => {\r\n        this.changedArrows$.next(data);\r\n      }).catch((err) => { console.log(err); });\r\n    }\r\n  }\r\n\r\n  public handleDeselectArrow(){\r\n    document.querySelector(`path#${this.selectedArrow.lineId}`).setAttribute('stroke-width', '2');\r\n    this.selectedArrow = null;\r\n  }\r\n\r\n  public handleRemoveArrows(ids) {\r\n    console.log(ids);\r\n    this.service.removeArrows(ids).toPromise().then((result) => {\r\n      this.service.getArrows(this.blueprint.id).toPromise().then((data) => {\r\n        this.changedArrows$.next(data);\r\n      }).catch((err) => console.log(err));\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  public moveToHome() {\r\n    this.router.navigateByUrl('/home');\r\n  }\r\n\r\n  public handleHideList() {\r\n    this.hideList = !this.hideList;\r\n  }\r\n\r\n  public handleHideNodeItem(data: BluePrintTool) {\r\n    if (!data.hide) {\r\n      data['hide'] = true;\r\n    } else {\r\n      data.hide = false;\r\n    }\r\n\r\n    this.service.updateNodeTool(data.id, { hide: data.hide }).subscribe((res) => {\r\n      // const nodeIndex = this.nodes.findIndex((item) => item.id = res.id );\r\n      res.tool = this.nodes[data.id].tool;\r\n      this.nodes[data.id] = res;\r\n      this.changedNodes$.next({ nodes: this.nodes, list: this.nodesList  });\r\n      // this.margeShowNodes();\r\n    });\r\n  }\r\n\r\n  public handleAddArrow(data) {\r\n    console.log(data);\r\n    this.service.addArrow(this.blueprint.id, data).toPromise().then((result) => {\r\n      console.log(result);\r\n    }).catch(err => console.log(err));\r\n  }\r\n\r\n  public handleUpdateArrow(data) {\r\n    console.log(data);\r\n    this.service.updateArrow(data).toPromise().then((result) => {\r\n      console.log(result);\r\n    }).catch(err => console.log(err));\r\n  }\r\n\r\n  public handleHideNode(data) {\r\n    // console.log(\"handleHideNode\", data);\r\n    this.service.updateNodeTool(data.id, { hide: true }).subscribe((res) => {\r\n      res.tool = this.nodes[data.id].tool;\r\n      this.nodes[data.id] = res;\r\n      console.log('-----------------------updateNodeTool--------------------------------');\r\n      this.changedNodes$.next({ nodes: this.nodes, list: this.nodesList, hiddenItem: data.id  });\r\n    });\r\n  }\r\n\r\n  private margeShowNodes() {\r\n    this.showNodes = [];\r\n    this.nodes.forEach((item) => {\r\n      if (!item.hide) {\r\n        this.showNodes.push(item);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"main\">\r\n    <div class=\"mt-container\"> \r\n      <h2> Build Your Stack </h2>   \r\n\r\n      <div class=\"stackContainer\">\r\n        <div class=\"stackActions\" *ngIf=\"loaded\" >\r\n          <div>\r\n              <button mat-raised-button (click)=\"handleHideList()\"> <mat-icon>list</mat-icon> All Tools </button>\r\n          </div>\r\n          <div>\r\n\r\n          </div>\r\n          <div>\r\n            <button mat-raised-button *ngIf=\"selectedArrow\" (click)=\"handleDeselectArrow()\"> <mat-icon>layers_clear</mat-icon> </button>\r\n            <button mat-raised-button *ngIf=\"selectedArrow\" class=\"delete-arrow-action\" (click)=\"handleRemoveArrow()\"> <mat-icon>clear</mat-icon>  Delete Arrow </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"loading-data-section\" *ngIf=\"!loaded && !isError\">\r\n          <mat-spinner></mat-spinner>\r\n          <p class=\"loading-message\"> Data being processed please wait... </p>\r\n        </div>\r\n        <div *ngIf=\"isError\" class=\"error-loading-alert\">\r\n          <mat-icon color=\"accent\">warning</mat-icon>\r\n          <p class=\"error-message\"> {{errMessage}} </p>\r\n          <button mat-button color=\"primary\" (click)=\"moveToHome()\"> Try Again </button>\r\n        </div>\r\n        <app-builder *ngIf=\"loaded\" \r\n          [loadedNodes]=\"changedNodes$\" \r\n          [loadedArrows]=\"changedArrows$\"\r\n          (positionNodeChanged)=\"updatedNodePosiotion($event)\"\r\n          (arrowAdded)=\"handleAddArrow($event)\"\r\n          (arrowUpdated)=\"handleUpdateArrow($event)\"\r\n          (hideNode)=\"handleHideNode($event)\"\r\n          (removeArrows)=\"handleRemoveArrows($event)\"\r\n          (selectArrow)=\"handleSlectArrow($event)\"\r\n          ></app-builder>\r\n\r\n        <app-tools-list  [ngClass]=\"{'hideTools': hideList}\" *ngIf=\"loaded\" \r\n          [loadedNodes]=\"changedNodes$\" \r\n          [loadedCategories]=\"changedCategories$\"\r\n          (toogleVisibilityNode)=\"handleHideNodeItem($event)\"\r\n          (closeTools)=\"handleCloseTools()\"\r\n          ></app-tools-list>\r\n      </div>\r\n      <div [ngClass]=\"{'toolsList': true, 'hide': true}\"> \r\n        <div class=\"header-tools\"> \r\n          <div class=\"title\"> </div>\r\n          <button mat-icon-button (click)=\"handleHideList()\"><mat-icon>clear</mat-icon></button>\r\n        </div>\r\n        <div class=\"tools-node-items\">\r\n          <div class=\"node-item\" *ngFor=\"let nodeId of nodesList\"> \r\n            <mat-card>\r\n              <div class=\"item-categories\"> <b>Categories: </b>  {{ nodes[nodeId].tool && nodes[nodeId].tool.categories?(nodes[nodeId].tool.categories.join(',')):''  }} </div>\r\n              <p class=\"item-name\"> <b>Name: </b> {{ nodes[nodeId].tool?.name }} </p>\r\n              <p class=\"item-description\"> {{ nodes[nodeId].tool?.description }} </p>\r\n              <div class=\"actions\">\r\n                <mat-slide-toggle (change)=\"handleHideNodeItem(nodes[nodeId])\"\r\n                    class=\"example-margin\"\r\n                    [checked]=\"nodes[nodeId].hide\"\r\n                    [color]=\"'accent'\">\r\n                    Hide\r\n                </mat-slide-toggle>\r\n              </div>           \r\n            </mat-card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-share',\r\n  templateUrl: './share.component.html',\r\n  styleUrls: ['./share.component.scss']\r\n})\r\nexport class ShareComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"main\">\r\n    <div class=\"mt-container\"> \r\n      <h2> Share you stack </h2>    \r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeComponent } from \"./pages/home/home.component\";\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomeComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomeRoutingModule { }\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\n\r\n\r\nimport { HomeRoutingModule } from './home-routing.module';\r\nimport { HomeComponent } from './pages/home/home.component';\r\nimport { SharedModule } from \"../../shared/shared.module\";\r\nimport { ButtonsIndicatorsModule } from \"../../shared/modules/material/buttons-indicators/buttons-indicators.module\";\r\nimport { FormsControlsModule } from \"../../shared/modules/material/forms-controls/forms-controls.module\";\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [HomeComponent],\r\n  imports: [\r\n    CommonModule,\r\n    HomeRoutingModule,\r\n    SharedModule,\r\n    FormsControlsModule,\r\n    ButtonsIndicatorsModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\r\n})\r\nexport class HomeModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {FormControl, Validators} from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  domain = new FormControl('', [Validators.pattern(/^([a-z.\\-]+(\\.)[a-z]{2,3})$/i)]);\r\n\r\n  constructor(private router: Router) { }\r\n\r\n  ngOnInit(): void {  }\r\n\r\n  submitDomain() {\r\n    if (!this.domain.invalid) {\r\n      this.router.navigateByUrl('/blueprints/build?domain=' + this.domain.value);\r\n    }\r\n  }\r\n}\r\n","<div class=\"main\">\r\n    <section class=\"mt-full-screen mt-flex\">\r\n        <div class=\"mt-container\">\r\n            <div class=\"form-doamin\">\r\n\r\n                <h2> Input Domain </h2>\r\n                <div>\r\n                    <mat-form-field appearance=\"outline\" class=\"input-domain\">\r\n                        <mat-label>Domain name:</mat-label>\r\n                        <input matInput placeholder=\"\" [formControl]=\"domain\" required>\r\n                        <mat-error *ngIf=\"domain.invalid\"> Please enter a valid domain </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div class=\"submit-domain\">\r\n                    <button mat-raised-button color=\"primary\" (click)=\"submitDomain()\">Submit</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { map, catchError } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\nimport { throwError } from 'rxjs';\r\nimport { Promise } from 'q';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ResponseMappers {\r\n\r\n  constructor() { }\r\n\r\n  public mapResponse(observable: Observable<any>) {\r\n    return observable.pipe(\r\n      map( (response: any) => { \r\n          return response.result;\r\n      }),\r\n      catchError( error => {\r\n        if (error) {\r\n          return throwError(error);\r\n        }\r\n      })\r\n   );\r\n  }\r\n\r\n  public getParams(filters, keyName: string): string {\r\n    let params = ['?'];\r\n    if (filters && filters.length) {\r\n        filters.forEach(filter => {\r\n          params.push(`${keyName}=${filter}&`);\r\n        });\r\n    }\r\n\r\n    return params.join('');\r\n }\r\n}","import { NgModule } from '@angular/core';\r\n\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatChipsModule,\r\n    MatIconModule,\r\n    MatProgressSpinnerModule\r\n  ],\r\n  exports: [\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatChipsModule,\r\n    MatIconModule,\r\n    MatProgressSpinnerModule\r\n  ]\r\n})\r\nexport class ButtonsIndicatorsModule { }\r\n","import { NgModule } from '@angular/core';\n\nimport {DragDropModule} from '@angular/cdk/drag-drop';\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    DragDropModule\n  ],\n  exports: [\n    DragDropModule\n  ]\n})\nexport class CommonBehaviorsModule { }\n","import { NgModule } from '@angular/core';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    MatInputModule,\r\n    MatFormFieldModule,\r\n    MatCheckboxModule,\r\n    MatSlideToggleModule\r\n  ],\r\n  exports: [\r\n    MatInputModule,\r\n    MatFormFieldModule,\r\n    MatCheckboxModule,\r\n    MatSlideToggleModule\r\n  ]\r\n})\r\nexport class FormsControlsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    MatCardModule,\r\n    MatExpansionModule\r\n  ],\r\n  exports: [\r\n    MatCardModule,\r\n    MatExpansionModule\r\n  ]\r\n})\r\nexport class LayoutModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsControlsModule } from './modules/material/forms-controls/forms-controls.module';\r\nimport { LayoutModule } from './modules/material/layout/layout.module';\r\nimport { ButtonsIndicatorsModule } from './modules/material/buttons-indicators/buttons-indicators.module';\r\nimport { CommonBehaviorsModule } from './modules/material/common-behaviors/common-behaviors.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    FormsControlsModule,\r\n    LayoutModule,\r\n    ButtonsIndicatorsModule,\r\n    CommonBehaviorsModule\r\n  ],\r\n})\r\nexport class SharedModule { }\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"]}